{% extends 'base.html' %}

{% block content %}
  <div class="best-notes-section">
    <div class="position-relative">
      <h1>📚 Best Notes</h1>
      <p class="lead">Comprehensive study materials and insights</p>
      <a href="https://medium.com/@vivek05/" target="_blank" class="btn btn-light btn-lg">
        ✨ Read Best Notes Here ✨
      </a>
    </div>
  </div>

  <div class="subjects-section">
    <h3>📖 Choose Your Subject</h3>
    <div class="row g-4">
      <div class="col-md-4">
        <a href="{{ url_for('main.index', subject='bdm') }}" class="btn btn-outline-primary w-100 {% if request.args.get('subject', 'bdm') == 'bdm' %}active{% endif %}">
          <h5 class="mb-2">📊</h5>
          <strong>BDM</strong><br>
          <small>Business Data Management</small>
        </a>
      </div>
      <div class="col-md-4">
        <a href="{{ url_for('main.index', subject='mad2') }}" class="btn btn-outline-success w-100 {% if request.args.get('subject') == 'mad2' %}active{% endif %}">
          <h5 class="mb-2">📱</h5>
          <strong>MAD2</strong><br>
          <small>Modern App Development</small>
        </a>
      </div>
      <div class="col-md-4">
        <a href="{{ url_for('main.index', subject='all') }}" class="btn btn-outline-info w-100 {% if request.args.get('subject') == 'all' %}active{% endif %}">
          <h5 class="mb-2">📚</h5>
          <strong>All Subjects</strong><br>
          <small>Complete Question Bank</small>
        </a>
      </div>
    </div>
  </div>

  <!-- Sets Section -->
  <div class="sets-section mt-4">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title mb-0">📋 Practice Sets</h4>
      </div>
      <div class="card-body">
        {% set subj = request.args.get('subject', 'bdm') %}
        {% if subj == 'mad2' %}
        <div class="row g-4">
          <div class="col-md-6">
            <div class="set-card">
              <div class="set-header">
                <h5>📝 MAD2 Set 1: Predicted Question Paper</h5>
                <span class="badge bg-primary">25 Questions</span>
              </div>
              <div class="set-info">
                <p><strong>Focus:</strong> JS outputs, Vue basics, async/auth, caching</p>
                <div class="set-options">
                  <a href="{{ url_for('main.mad2_solve_set', set_id=1) }}" class="btn btn-primary btn-sm">🕒 Solve with Timer (60 min)</a>
                  <a href="{{ url_for('main.mad2_practice_set', set_id=1) }}" class="btn btn-outline-primary btn-sm">🎯 Practice Mode</a>
                  <a href="{{ url_for('main.mad2_list_set', set_id=1) }}" class="btn btn-outline-secondary btn-sm">📋 View Questions</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="set-card">
              <div class="set-header">
                <h5>📝 MAD2 Set 2: Predicted Question Paper</h5>
                <span class="badge bg-primary">25 Questions</span>
              </div>
              <div class="set-info">
                <p><strong>Focus:</strong> async/await, Vuex, security, performance caching</p>
                <div class="set-options">
                  <a href="{{ url_for('main.mad2_solve_set', set_id=2) }}" class="btn btn-primary btn-sm">🕒 Solve with Timer (60 min)</a>
                  <a href="{{ url_for('main.mad2_practice_set', set_id=2) }}" class="btn btn-outline-primary btn-sm">🎯 Practice Mode</a>
                  <a href="{{ url_for('main.mad2_list_set', set_id=2) }}" class="btn btn-outline-secondary btn-sm">📋 View Questions</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% else %}
        <div class="row g-4">
          <div class="col-md-6">
            <div class="set-card">
              <div class="set-header">
                <h5>📝 Set 1: Predicted Question Paper</h5>
                <span class="badge bg-primary">23 Questions</span>
              </div>
              <div class="set-info">
                <p><strong>Focus:</strong> Economics basics, Excel functions, inventory metrics, FinTech calculations</p>
                <div class="set-options">
                  <a href="{{ url_for('main.solve_set', set_id=1) }}" class="btn btn-primary btn-sm">🕒 Solve with Timer (60 min)</a>
                  <a href="{{ url_for('main.practice_set', set_id=1) }}" class="btn btn-outline-primary btn-sm">🎯 Practice Mode</a>
                  <a href="{{ url_for('main.list_set', set_id=1) }}" class="btn btn-outline-secondary btn-sm">📋 View Questions</a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="set-card">
              <div class="set-header">
                <h5>📝 Set 2: Predicted Question Paper</h5>
                <span class="badge bg-primary">23 Questions</span>
              </div>
              <div class="set-info">
                <p><strong>Focus:</strong> Macro/micro roles, elasticity, firm ratios, industry metrics</p>
                <div class="set-options">
                  <a href="{{ url_for('main.solve_set', set_id=2) }}" class="btn btn-primary btn-sm">🕒 Solve with Timer (60 min)</a>
                  <a href="{{ url_for('main.practice_set', set_id=2) }}" class="btn btn-outline-primary btn-sm">🎯 Practice Mode</a>
                  <a href="{{ url_for('main.list_set', set_id=2) }}" class="btn btn-outline-secondary btn-sm">📋 View Questions</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </div>

  {% if request.args.get('subject', 'bdm') == 'bdm' %}
    <!-- BDM Questions Section -->
    <div class="bdm-questions-section mt-4">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title mb-0">📊 BDM Practice Questions (Preview)</h4>
        </div>
        <div class="card-body">
          <div class="row g-4">
            {% if questions %}
              {% for q in questions[:3] %}
                <div class="col-md-6 col-lg-4">
                  <div class="question-card h-100">
                    <div class="card-header">
                      <h6 class="card-title">Q{{ loop.index }}. {{ q.text[:100] }}{% if q.text|length > 100 %}...{% endif %}</h6>
                      {% if q.topic %}<div class="question-topic">{{ q.topic }}</div>{% endif %}
                    </div>
                    <div class="card-body">
                      <div class="options-preview">
                        {% for key, val in q.options.items() %}
                          <div class="option-item">
                            <strong>{{ key }}.</strong> {{ val[:50] }}{% if val|length > 50 %}...{% endif %}
                          </div>
                        {% endfor %}
                      </div>
                      <div class="mt-3">
                        <a href="{{ url_for('main.question', q_id=loop.index) }}" class="btn btn-primary btn-sm">
                          Practice This Question
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              {% endfor %}
            {% else %}
              <div class="col-12">
                <div class="text-center">
                  <p class="text-muted">No BDM questions available yet.</p>
                  <a href="{{ url_for('main.add_question') }}" class="btn btn-primary">Add First Question</a>
                </div>
              </div>
            {% endif %}
          </div>
          
          {% if questions %}
            <div class="text-center mt-4">
              <div class="alert alert-info">
                <strong>📚 {{ questions|length }} Total BDM Questions Available</strong><br>
                <small>Click below to practice all {{ questions|length }} questions</small>
              </div>
              <a href="{{ url_for('main.practice_all', subject='bdm') }}" class="btn btn-primary btn-lg">
                🎯 Practice All {{ questions|length }} BDM Questions
              </a>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  {% endif %}

  {% if request.args.get('subject') == 'mad2' %}
    <!-- MAD2 Questions Section -->
    <div class="bdm-questions-section mt-4">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title mb-0">📱 MAD2 Practice Questions (Preview)</h4>
        </div>
        <div class="card-body">
          <div class="row g-4">
            {% if questions %}
              {% for q in questions[:3] %}
                <div class="col-md-6 col-lg-4">
                  <div class="question-card h-100">
                    <div class="card-header">
                      <h6 class="card-title">Q{{ loop.index }}. {{ q.text[:100] }}{% if q.text|length > 100 %}...{% endif %}</h6>
                      {% if q.topic %}<div class="question-topic">{{ q.topic }}</div>{% endif %}
                    </div>
                    <div class="card-body">
                      <div class="options-preview">
                        {% for key, val in q.options.items() %}
                          <div class="option-item">
                            <strong>{{ key }}.</strong> {{ val[:50] }}{% if val|length > 50 %}...{% endif %}
                          </div>
                        {% endfor %}
                      </div>
                      <div class="mt-3">
                        <a href="{{ url_for('main.practice_all', subject='mad2', q=loop.index) }}" class="btn btn-primary btn-sm">
                          Practice Starting Here
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              {% endfor %}
            {% else %}
              <div class="col-12">
                <div class="text-center">
                  <p class="text-muted">No MAD2 questions available yet.</p>
                </div>
              </div>
            {% endif %}
          </div>
          
          {% if questions %}
            <div class="text-center mt-4">
              <div class="alert alert-info">
                <strong>📚 {{ questions|length }} Total MAD2 Questions Available</strong><br>
                <small>Click below to practice all {{ questions|length }} questions</small>
              </div>
              <a href="{{ url_for('main.practice_all', subject='mad2') }}" class="btn btn-primary btn-lg">
                🎯 Practice All {{ questions|length }} MAD2 Questions
              </a>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  {% endif %}

  <div class="quick-actions-section mt-4">
    <h3>⚡ Quick Actions</h3>
    <div class="row g-4">
      <div class="col-md-4">
        <a href="{{ url_for('main.practice_all') }}" class="btn btn-primary w-100">
          <h5 class="mb-2">🎯</h5>
          <strong>Practice All</strong><br>
          <small>Answer all questions</small>
        </a>
      </div>
      <div class="col-md-4">
        <a href="{{ url_for('main.add_question') }}" class="btn btn-success w-100">
          <h5 class="mb-2">➕</h5>
          <strong>Add Question</strong><br>
          <small>Create new question</small>
        </a>
      </div>
      <div class="col-md-4">
        <a href="{{ url_for('main.import_questions') }}" class="btn btn-info w-100">
          <h5 class="mb-2">📥</h5>
          <strong>Bulk Import</strong><br>
          <small>Import many questions</small>
        </a>
      </div>
    </div>
  </div>

  <div class="professional-footer-section">
    <h3>🔗 Professional Links</h3>
    <div class="row g-4">
      <div class="col-md-3 col-sm-6">
        <a href="https://www.linkedin.com/in/vivek-kumar-0001vk/" target="_blank" class="btn btn-linkedin w-100">
          <h5 class="mb-2">💼</h5>
          <strong>LinkedIn</strong><br>
          <small>Professional Profile</small>
        </a>
      </div>
      <div class="col-md-3 col-sm-6">
        <a href="https://www.instagram.com/_i_am_vivek._/" target="_blank" class="btn btn-instagram w-100">
          <h5 class="mb-2">📸</h5>
          <strong>Instagram</strong><br>
          <small>Personal Updates</small>
        </a>
      </div>
      <div class="col-md-3 col-sm-6">
        <a href="https://github.com/vivek-k1/BDM" target="_blank" class="btn btn-github w-100">
          <h5 class="mb-2">🐙</h5>
          <strong>GitHub</strong><br>
          <small>Code Repository</small>
        </a>
      </div>
      <div class="col-md-3 col-sm-6">
        <a href="https://medium.com/@vivek05/" target="_blank" class="btn btn-medium w-100">
          <h5 class="mb-2">✍️</h5>
          <strong>Medium</strong><br>
          <small>Blog & Articles</small>
        </a>
      </div>
    </div>
  </div>
{% endblock %}


