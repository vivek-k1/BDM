{% extends 'base.html' %}
{% block content %}
  <!-- Best Notes Link - Large and Prominent -->
  <div class="best-notes-section">
    <h1 class="display-4 fw-bold mb-3">ðŸ“š Best Notes</h1>
    <p class="lead mb-4">Comprehensive study materials and insights</p>
    <a href="https://medium.com/@vivek05/" target="_blank" class="btn btn-light btn-lg px-5 py-3 fw-bold fs-3">
      ðŸŒŸ Read Best Notes Here ðŸŒŸ
    </a>
  </div>

  <!-- Subject Buttons -->
  <div class="subjects-section mb-5">
    <h3 class="text-center mb-4">ðŸ“– Choose Your Subject</h3>
    <div class="row justify-content-center">
      <div class="col-md-4 col-lg-3 mb-3">
        <a href="{{ url_for('main.index') }}?subject=bdm" class="btn btn-outline-primary btn-lg w-100 py-3 {% if not request.args.get('subject') or request.args.get('subject') == 'bdm' %}active{% endif %}">
          <h5 class="mb-2">ðŸ“Š</h5>
          <strong>BDM</strong><br>
          <small>Business Data Management</small>
        </a>
      </div>
      <div class="col-md-4 col-lg-3 mb-3">
        <a href="{{ url_for('main.index') }}?subject=mad2" class="btn btn-outline-success btn-lg w-100 py-3 {% if request.args.get('subject') == 'mad2' %}active{% endif %}">
          <h5 class="mb-2">ðŸ“±</h5>
          <strong>MAD2</strong><br>
          <small>Mobile App Development</small>
        </a>
      </div>
      <div class="col-md-4 col-lg-3 mb-3">
        <a href="{{ url_for('main.index') }}?subject=all" class="btn btn-outline-info btn-lg w-100 py-3 {% if request.args.get('subject') == 'all' %}active{% endif %}">
          <h5 class="mb-2">ðŸ“š</h5>
          <strong>All Subjects</strong><br>
          <small>Complete Question Bank</small>
        </a>
      </div>
    </div>
  </div>

  <!-- Current Subject Info -->
  {% set current_subject = request.args.get('subject', 'bdm') %}
  {% if current_subject == 'bdm' %}
    <div class="subject-header mb-4">
      <div class="d-flex align-items-center">
        <h2 class="me-3 mb-0">ðŸ“Š Business Data Management (BDM)</h2>
        <span class="badge bg-primary">{{ questions|length }} Questions</span>
      </div>
      <p class="text-muted mt-2">Master the fundamentals of data analysis, economics, and business intelligence</p>
    </div>
  {% elif current_subject == 'mad2' %}
    <div class="subject-header mb-4">
      <div class="d-flex align-items-center">
        <h2 class="me-3 mb-0">ðŸ“± Mobile App Development (MAD2)</h2>
        <span class="badge bg-success">{{ questions|length }} Questions</span>
      </div>
      <p class="text-muted mt-2">Learn mobile development, UI/UX design, and app deployment</p>
    </div>
  {% else %}
    <div class="subject-header mb-4">
      <div class="d-flex align-items-center">
        <h2 class="me-3 mb-0">ðŸ“š All Subjects</h2>
        <span class="badge bg-info">{{ questions|length }} Questions</span>
      </div>
      <p class="text-muted mt-2">Complete question bank across all subjects</p>
    </div>
  {% endif %}
  
  {% if questions %}
    <div class="row">
      {% for q in questions %}
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="question-card">
            <div class="card-header">
              <h5 class="card-title">Q{{ loop.index }}. {{ q.text[:50] }}{% if q.text|length > 50 %}...{% endif %}</h5>
              {% if q.topic %}<div class="question-topic">{{ q.topic }}</div>{% endif %}
            </div>
            <div class="card-body">
              <p class="card-text text-muted">Options: A, B, C, D</p>
              <div class="d-flex justify-content-between align-items-center">
                <small class="text-muted">Set {{ loop.index // 12 + 1 }} Q{{ loop.index }} - {{ q.topic or 'General' }}</small>
                <a href="{{ url_for('main.question', q_id=loop.index) }}" class="btn btn-primary btn-sm">Practice</a>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="card">
      <div class="card-body text-center">
        <h5 class="card-title">No questions available for this subject</h5>
        <p class="card-text">Add some questions to get started!</p>
        <a href="{{ url_for('main.add_question') }}" class="btn btn-primary">Add Question</a>
      </div>
    </div>
  {% endif %}
{% endblock %}


